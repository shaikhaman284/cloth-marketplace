{% extends "admin/index.html" %}
{% load static %}

{% block content %}
{{ block.super }}

<div style="margin: 20px 0; padding: 20px; background: #f8f9fa; border-radius: 8px;">
    <h2>Platform Statistics</h2>

    <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-top: 20px;">
        <div style="background: white; padding: 15px; border-radius: 5px; border-left: 4px solid #4CAF50;">
            <h3 style="margin: 0; color: #666; font-size: 14px;">Total Revenue</h3>
            <p style="margin: 10px 0 0 0; font-size: 28px; font-weight: bold;">₹{{ stats.total_revenue|floatformat:0 }}</p>
        </div>

        <div style="background: white; padding: 15px; border-radius: 5px; border-left: 4px solid #2196F3;">
            <h3 style="margin: 0; color: #666; font-size: 14px;">Total GMV</h3>
            <p style="margin: 10px 0 0 0; font-size: 28px; font-weight: bold;">₹{{ stats.total_gmv|floatformat:0 }}</p>
        </div>

        <div style="background: white; padding: 15px; border-radius: 5px; border-left: 4px solid #FF9800;">
            <h3 style="margin: 0; color: #666; font-size: 14px;">Total Orders</h3>
            <p style="margin: 10px 0 0 0; font-size: 28px; font-weight: bold;">{{ stats.total_orders }}</p>
        </div>

        <div style="background: white; padding: 15px; border-radius: 5px; border-left: 4px solid #9C27B0;">
            <h3 style="margin: 0; color: #666; font-size: 14px;">Active Shops</h3>
            <p style="margin: 10px 0 0 0; font-size: 28px; font-weight: bold;">{{ stats.total_shops }}</p>
        </div>
    </div>

    {% if stats.pending_shops > 0 %}
    <div style="margin-top: 20px; padding: 15px; background: #fff3cd; border-radius: 5px; border-left: 4px solid #ffc107;">
        <strong>⚠️ {{ stats.pending_shops }} shop(s) pending approval</strong>
        <a href="{% url 'admin:shops_shop_changelist' %}?approval_status=pending" style="margin-left: 10px;">Review Now →</a>
    </div>
    {% endif %}
</div>

{% endblock %}